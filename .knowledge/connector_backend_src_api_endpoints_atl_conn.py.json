{"is_source_file": true, "format": "Python", "description": "Source code for API endpoints managing Atlassian integrations (Jira and Confluence), including credential storage, verification, and resource listing, implemented using FastAPI and httpx.", "external_files": ["src.core.security", "src.models.schemas", "loguru"], "external_methods": ["get_current_user"], "published": ["router", "connect_jira", "list_jira_projects", "connect_confluence", "list_confluence_spaces"], "classes": [{"name": "JiraCredentials", "description": "Model for Jira credential payload, including domain, email, and API token."}, {"name": "ConfluenceCredentials", "description": "Model for Confluence credential payload, including domain, email, and API token."}], "methods": [{"name": "None _store_credentials(tenant_id: str, service: str, data: Dict[str, str])", "description": "Stores credentials in memory for a given tenant and service.", "scope": "", "scopeKind": ""}, {"name": "Optional[Dict[str,str]] _get_credentials(tenant_id: str, service: str)", "description": "Retrieves stored credentials for a tenant and service.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,str] _basic_auth_header(email: str, api_token: str)", "description": "Constructs Basic Authentication header for Atlassian API calls.", "scope": "", "scopeKind": ""}, {"name": "bool _verify_jira(domain: str, email: str, api_token: str)", "description": "Verifies Jira credentials by calling Jira API /rest/api/3/myself.", "scope": "", "scopeKind": ""}, {"name": "bool _verify_confluence(domain: str, email: str, api_token: str)", "description": "Verifies Confluence credentials by calling Confluence API /wiki/rest/api/user/current.", "scope": "", "scopeKind": ""}, {"name": "connect_jira( creds: JiraCredentials, current_user: Dict[str, Any] = Depends(get_current_user) )", "description": "API endpoint to accept, verify, and store Jira credentials.", "scope": "", "scopeKind": ""}, {"name": "list_jira_projects( q: Optional[str] = Query(None, description=\"Optional search query to filter projects\"), current_user: Dict[str, Any] = Depends(get_current_user) )", "description": "Lists Jira projects using stored credentials for the tenant.", "scope": "", "scopeKind": ""}, {"name": "connect_confluence( creds: ConfluenceCredentials, current_user: Dict[str, Any] = Depends(get_current_user) )", "description": "API endpoint to accept, verify, and store Confluence credentials.", "scope": "", "scopeKind": ""}, {"name": "list_confluence_spaces( q: Optional[str] = Query(None, description=\"Optional filter on spaceKey\"), limit: int = Query(50, ge=1, le=200), current_user: Dict[str, Any] = Depends(get_current_user) )", "description": "Lists Confluence spaces using stored credentials for the tenant.", "scope": "", "scopeKind": ""}], "calls": ["httpx.AsyncClient()", "_basic_auth_header", "_verify_jira", "_verify_confluence"], "search-terms": ["atl_conn.py", "JiraCredentials", "ConfluenceCredentials", "connect/jira", "connect/confluence", "list/jira", "list/confluence", "verify_jira", "verify_confluence"], "state": 2, "file_id": 26, "knowledge_revision": 67, "git_revision": "", "ctags": [{"_type": "tag", "name": "ConfluenceCredentials", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^class ConfluenceCredentials(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "JiraCredentials", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^class JiraCredentials(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_IN_MEMORY_CREDENTIALS", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^_IN_MEMORY_CREDENTIALS: Dict[str, Dict[str, Dict[str, str]]] = {$/", "language": "Python", "typeref": "typename:Dict[str, Dict[str, Dict[str, str]]]", "kind": "variable"}, {"_type": "tag", "name": "_basic_auth_header", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^def _basic_auth_header(email: str, api_token: str) -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "(email: str, api_token: str)"}, {"_type": "tag", "name": "_get_credentials", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^def _get_credentials(tenant_id: str, service: str) -> Optional[Dict[str, str]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,str]]", "kind": "function", "signature": "(tenant_id: str, service: str)"}, {"_type": "tag", "name": "_store_credentials", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^def _store_credentials(tenant_id: str, service: str, data: Dict[str, str]) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(tenant_id: str, service: str, data: Dict[str, str])"}, {"_type": "tag", "name": "_verify_confluence", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^async def _verify_confluence(domain: str, email: str, api_token: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(domain: str, email: str, api_token: str)"}, {"_type": "tag", "name": "_verify_jira", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^async def _verify_jira(domain: str, email: str, api_token: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(domain: str, email: str, api_token: str)"}, {"_type": "tag", "name": "api_token", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^    api_token: str = Field(..., description=\"Confluence API token generated from id.atlassian.co/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ConfluenceCredentials", "scopeKind": "class"}, {"_type": "tag", "name": "api_token", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^    api_token: str = Field(..., description=\"JIRA API token generated from id.atlassian.com\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "JiraCredentials", "scopeKind": "class"}, {"_type": "tag", "name": "connect_confluence", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^async def connect_confluence($/", "language": "Python", "kind": "function", "signature": "( creds: ConfluenceCredentials, current_user: Dict[str, Any] = Depends(get_current_user) )"}, {"_type": "tag", "name": "connect_jira", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^async def connect_jira($/", "language": "Python", "kind": "function", "signature": "( creds: JiraCredentials, current_user: Dict[str, Any] = Depends(get_current_user) )"}, {"_type": "tag", "name": "domain", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^    domain: str = Field(..., description=\"Your Atlassian cloud site domain, e.g., example.atlass/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ConfluenceCredentials", "scopeKind": "class"}, {"_type": "tag", "name": "domain", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^    domain: str = Field(..., description=\"Your Atlassian cloud site domain, e.g., example.atlass/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "JiraCredentials", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^    email: str = Field(..., description=\"User email for API access\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ConfluenceCredentials", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^    email: str = Field(..., description=\"User email for API access\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "JiraCredentials", "scopeKind": "class"}, {"_type": "tag", "name": "list_confluence_spaces", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^async def list_confluence_spaces($/", "language": "Python", "kind": "function", "signature": "( q: Optional[str] = Query(None, description=\"Optional filter on spaceKey\"), limit: int = Query(50, ge=1, le=200), current_user: Dict[str, Any] = Depends(get_current_user) )"}, {"_type": "tag", "name": "list_jira_projects", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^async def list_jira_projects($/", "language": "Python", "kind": "function", "signature": "( q: Optional[str] = Query(None, description=\"Optional search query to filter projects\"), current_user: Dict[str, Any] = Depends(get_current_user) )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/unified-workflow-connector-145367-145377/connector_backend/src/api/endpoints/atl_conn.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}], "hash": "cf329ed4c0425b790e6cb737c3e8ab28", "format-version": 4, "code-base-name": "connector_backend", "filename": "connector_backend/src/api/endpoints/atl_conn.py", "fields": [{"name": "Dict[str, Dict[str, Dict[str, str]]] _IN_MEMORY_CREDENTIALS", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str api_token", "scope": "ConfluenceCredentials", "scopeKind": "class", "description": "unavailable"}, {"name": "str domain", "scope": "ConfluenceCredentials", "scopeKind": "class", "description": "unavailable"}, {"name": "str email", "scope": "ConfluenceCredentials", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"67": ""}]}